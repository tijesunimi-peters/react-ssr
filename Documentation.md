<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Architecture][1]
-   [Systems][2]
-   [BundlingSystem][3]
    -   [BundlingSystem/Global][4]
    -   [BundlingSystem/Server][5]
    -   [BundlingSystem/RenderingSystem][6]
        -   [Parameters][7]
    -   [BundlingSystem/Client][8]
-   [Server Side Rendering System][9]
    -   [RenderingSystem][10]
        -   [Parameters][11]
        -   [Examples][12]
-   [ServerSystem][13]
-   [Client System][14]
    -   [Components][15]
    -   [Router][16]
    -   [App][17]
    -   [Loader][18]
-   [AboutCompoent][19]
-   [HomeComponent][20]
-   [FavoriteContainerComponent][21]
    -   [Properties][22]
-   [FavoriteComponent][23]
    -   [Properties][24]
-   [Favorite.handleClick][25]
-   [Recipes][26]
-   [NoRatingComponent][27]
    -   [Properties][28]
-   [RatingComponent][29]
    -   [Properties][30]
-   [StarIconComponent][31]
    -   [Properties][32]
-   [RecipeComponent][33]
-   [RecipeComponent.handleRating][34]
    -   [Parameters][35]
-   [IngredientContainerComponent][36]
    -   [Properties][37]
    -   [Examples][38]
-   [RecipeContainerComponent][39]
    -   [Properties][40]
-   [ErrorBoundaryComponent][41]

## Architecture

A software application is a product of several systems that work together to provide a service/services to the end user. The systems of this application are partitioned based on domain of problem statement and are structured based on commonality and variance.


## Systems

A system aims to contain its existence in the application - changes in the systems should not affect the overall application systems - keeping in mind that the application is dependent of described systems. Also, systems are designed to allow replacement of itself such that a system could be removed but replaced with similar structured systems. The folder structure helps to communicate this design.

## Folder Structure

The folder are named and arranged to communicate self-contained systems of the application. The folder structure aim to give an overview of the form of the application grouped in systems for high level systems of the application and also for self-contained components for the client system.


## BundlingSystem

The bundling system is webpack.

### Functions

-   HTML generation
-   CSS preprocessing
-   CSS extraction
-   Transpiling

### Divisions

1.  Global
    [BundlingSystem - Global][4]
2.  Sub-system
    -   [BundlingSystem - Server][5]
    -   [BundlingSystem - RenderingSystem][6]
    -   [BundlingSystem - Client][8]


### BundlingSystem/Global

Webpack entrypoint for all sub-system bundling. <br />
Required

    server/webpack.server.js
    renderingSystem/webpack.rendering.js
    client/webpack.client.js

### BundlingSystem/Server

Webpack module configuration for the Server <br />
Entry:

     skeletonEvent: `./src/js/skeleton.js`
     style: `./src/styles/style.scss`

Output:

      client/index.html
      public/assets/style.css
      public/assets/skeletonEvent*

### BundlingSystem/RenderingSystem

This is the bundling system for Server Side Rendering system to a commonjs library that can be used by `server/index.js`

Entry:

    renderingSystem/src/index.js

Output:

    renderingSystem/dist/**

#### Parameters

-   `devMode` **[boolean][42]** 

### BundlingSystem/Client

Webpack config function for bundling the Client assets
Entry

    client/src/index.js
    client/index.html

Output

    public/assets/client*
    public/index.html

## Server Side Rendering System

Leverages the `ReactDom.renderToString` function to convert the `client/src/App.js` to string. It uses the `StaticRouter` to sync routes coming from the server request


### RenderingSystem

This is the server side renderer. The renderer replaces `${}` strings in the template with the appropriate value. StaticRouter is used to sync routes from the client `BrowserRouter`.

#### Parameters

-   `title` **[string][43]** 
-   `template` **[string][43]** 
-   `location` **[string][43]** 

#### Examples

```javascript
const template = `
   <html>
     <head>
       <title>${title}</title>
     </head>
     <body>
       ${content}
     </body>
   </html>
`

 const title = "About"
 const location = request.url
 const htmlBody = templater(title, template, location)

 response.send(htmlBody)
```

Returns **[string][43]** html

## ServerSystem

Express Server<br />
Uses `public/index.html` as template for the rendering system

## Client System

This system is based on the `React` library and is responsible for the views. The UI is broken down in to `React` components making the frontend implementation modular also leveraging off of the lean architecture understanding of partioning based on commonality and variation. Components are self contained in their folders/files - having everything they require to exist independently. Functions general to several components are contained in a separate Component that is then imported into dependent components


### Components

React Components in the Client System


### Router

Entry point to the Browser.<br />
`BrowserRouter` manages routing in the browser

### App

App Component is used for SSR and Client Rendering. Loadable library splits coomponents into chunks and the chunks are name according to the webpack chunk name.
Output Folder: `/renderingSystem/dist/[webpackChunkName].js`

### Loader

Loader wrapper components for mounting components uses render props

## AboutCompoent

Class Component for rendering about page

## HomeComponent

Class Component for rendering the Home page

## FavoriteContainerComponent

Stateless component for Favorite

### Properties

-   `count` **[number][44]** favorite counts
-   `paint` **bool** fills svg path with #91c11e on true and #fff on false
-   `onClick` **func** handles click event for favoriting or unfavoriting the recipe

## FavoriteComponent

Renders the FavoriteContainer and also manages clicks on the favorite icon

### Properties

-   `paint` **[boolean][42]** for filling the svg or making it white
-   `count` **[number][44]** : number of previous favorites. Increases on first click and decreases on second click

## Favorite.handleClick

Favorites and Unfavorites a recipe<br />
Scenario: Registered User

## Recipes

Fetches recipes and updates state on server responses

## NoRatingComponent

Stateless component for 0 star ratings

### Properties

-   `starSize` **[string][43]** : width and height of stars
-   `className` **[string][43]** 
-   `onClick` **func** 

## RatingComponent

Stateless Component for ratings > 0

### Properties

-   `rating` **[number][44]** 
-   `starSize` **[string][43]** : width and height of the stars
-   `label` **bool** : toggles on the label for the ratings
-   `onClick` **func** : rates the recipes

## StarIconComponent

Stateless component that renders the StarIcon

### Properties

-   `width` **[string][43]** 
-   `height` **[string][43]** 
-   `half` **bool** 
-   `full` **bool** 

## RecipeComponent

Class component that renders the Recipe and manages rating of the recipe

## RecipeComponent.handleRating

### Parameters

-   `val` **[number][44]** : the rating number

## IngredientContainerComponent

Stateless component for displaying Recipe Ingredients

### Properties

-   `thumb` **[string][43]** : Image Url
-   `text` **[string][43]** 

### Examples

```javascript
const text = "1 Cup of Sound White onions";
 const textParts = text.trim().split(' ');
 const firstPart = textParts.slice(0, 2).join(' ');
 const remainigParts = textParts.slice(2).join(' ');

 // values
 firstPart = '1 Cup'
 remainigParts = 'Sound White onions'
```

## RecipeContainerComponent

Stateless Component for displaying Recipe

### Properties

-   `calories` **[string][43]** 
-   `ingredients` **[array][45]** 
-   `headline` **[string][43]** 
-   `description` **[string][43]** 
-   `difficulty` **[string][43]** 
-   `image` **[string][43]** : url
-   `name` **[string][43]** 
-   `rating` **[number][44]** 
-   `favorites` **[number][44]** 
-   `fats` **[string][43]** 
-   `carbos` **[string][43]** 
-   `proteins` **[string][43]** 
-   `thumb` **[string][43]** : image url
-   `time` **[string][43]** : ISO 8601 interval

## ErrorBoundaryComponent

Class Component that renders whenever there is an error in the application

[1]: #architecture

[2]: #systems

[3]: #bundlingsystem

[4]: #bundlingsystemglobal

[5]: #bundlingsystemserver

[6]: #bundlingsystemrenderingsystem

[7]: #parameters

[8]: #bundlingsystemclient

[9]: #server-side-rendering-system

[10]: #renderingsystem

[11]: #parameters-1

[12]: #examples

[13]: #serversystem

[14]: #client-system

[15]: #components

[16]: #router

[17]: #app

[18]: #loader

[19]: #aboutcompoent

[20]: #homecomponent

[21]: #favoritecontainercomponent

[22]: #properties

[23]: #favoritecomponent

[24]: #properties-1

[25]: #favoritehandleclick

[26]: #recipes

[27]: #noratingcomponent

[28]: #properties-2

[29]: #ratingcomponent

[30]: #properties-3

[31]: #stariconcomponent

[32]: #properties-4

[33]: #recipecomponent

[34]: #recipecomponenthandlerating

[35]: #parameters-2

[36]: #ingredientcontainercomponent

[37]: #properties-5

[38]: #examples-1

[39]: #recipecontainercomponent

[40]: #properties-6

[41]: #errorboundarycomponent

[42]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
